# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure

# The region to deploy the backend to.
location: europe-west4

runConfig:
  # By setting minInstances to 1, you ensure that there is always at least one
  # running instance of your application, which significantly reduces "cold starts"
  # and improves request response times.
  minInstances: 0
  # This setting is the most important for cost control.
  # By setting maxInstances to 1, you prevent the system
  # from automatically scaling up to handle more traffic.
  maxInstances: 1
  # Explicitly set the CPU and memory to low values.
  cpu: 1
  memoryMiB: 512
env:
  - variable: PRIVATE_API_BASE_URL
    value: https://checklist-app-go
    availability:
      - RUNTIME
      - BUILD
  - variable: BACKEND_URL
    value: https://checklist-app-go-qqzjtedwva-ez.a.run.app/
    availability:
      - RUNTIME
      - BUILD
  - variable: NEXT_PUBLIC_DIRECT_BACKEND_URL
    value: https://checklist-app-go-qqzjtedwva-ez.a.run.app
    availability:
      - BUILD
      - RUNTIME

# Managed an automated, zero-config CI/CD pipeline.
# https://firebase.google.com/docs/app-hosting/configure-ci-cd
# automatedCi:
#   # The repo to connect to.
#   repository: /<owner>/<repo>
#   # The name of the branch to track.
#   branch: main
#   # The root of the app in the repository.
#   root: /
